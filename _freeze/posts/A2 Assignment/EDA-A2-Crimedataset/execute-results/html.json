{
  "hash": "63ba3ef57668880d94080253b6a56f0d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Crimedataset\"\nauthor: \"Shruthi, Swetha\"\ndate: \"2025-10-13\"\ncategories: [Homicides in Nine US Cities (2015)]\nformat: html\n---\n\n## Setting up R Packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.2\n✔ ggplot2   4.0.0     ✔ tibble    3.3.0\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.1.0     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:naniar':\n\n    n_complete\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(crosstable)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'crosstable'\n\nThe following object is masked from 'package:purrr':\n\n    compact\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tinytable)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'tinytable'\n\nThe following object is masked from 'package:ggplot2':\n\n    theme_void\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggformula)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: scales\n\nAttaching package: 'scales'\n\nThe following object is masked from 'package:purrr':\n\n    discard\n\nThe following object is masked from 'package:readr':\n\n    col_factor\n\nLoading required package: ggridges\n\nNew to ggformula?  Try the tutorials: \n\tlearnr::run_tutorial(\"introduction\", package = \"ggformula\")\n\tlearnr::run_tutorial(\"refining\", package = \"ggformula\")\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(mosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRegistered S3 method overwritten by 'mosaic':\n  method                           from   \n  fortify.SpatialPolygonsDataFrame ggplot2\n\nThe 'mosaic' package masks several functions from core packages in order to add \nadditional features.  The original behavior of these functions should not be affected by this.\n\nAttaching package: 'mosaic'\n\nThe following object is masked from 'package:Matrix':\n\n    mean\n\nThe following object is masked from 'package:scales':\n\n    rescale\n\nThe following object is masked from 'package:skimr':\n\n    n_missing\n\nThe following objects are masked from 'package:dplyr':\n\n    count, do, tally\n\nThe following object is masked from 'package:purrr':\n\n    cross\n\nThe following object is masked from 'package:ggplot2':\n\n    stat\n\nThe following objects are masked from 'package:stats':\n\n    binom.test, cor, cor.test, cov, fivenum, IQR, median, prop.test,\n    quantile, sd, t.test, var\n\nThe following objects are masked from 'package:base':\n\n    max, mean, min, prod, range, sample, sum\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(vcd)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: grid\n\nAttaching package: 'vcd'\n\nThe following object is masked from 'package:mosaic':\n\n    mplot\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(vcdExtra) \n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: gnm\n\nAttaching package: 'gnm'\n\nThe following object is masked from 'package:lattice':\n\n    barley\n\n\nAttaching package: 'vcdExtra'\n\nThe following object is masked from 'package:dplyr':\n\n    summarise\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(resampledata)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'resampledata'\n\nThe following object is masked from 'package:vcdExtra':\n\n    TV\n\nThe following object is masked from 'package:datasets':\n\n    Titanic\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggmosaic)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'ggmosaic'\n\nThe following objects are masked from 'package:vcd':\n\n    mosaic, spine\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(ggpubr) \nlibrary(visdat)\nlibrary(naniar) \nlibrary(DT)\nlibrary(ggrepel)\nlibrary(marquee)\n\nlibrary(crimedatasets)\nlibrary(DataSetsVerse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nLoading required package: timeSeriesDataSets\nLoading required package: educationR\nLoading required package: MedDataSets\nLoading required package: OncoDataSets\n═══════════════════════════ Welcome to DataSetsVerse ═══════════════════════════\nA metapackage for thematic and domain-specific datasets in R.\n\n✔ timeSeriesDataSets v0.1.0\n✔ educationR         v0.1.0\n✔ crimedatasets      v0.1.0\n✔ MedDataSets        v0.1.0\n✔ OncoDataSets       v0.1.0\n```\n\n\n:::\n:::\n\n\n## Reading Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(package = \"crimedatasets\")\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndata(\"homicides15_tbl_df\", package = \"crimedatasets\")\ndplyr::glimpse(homicides15_tbl_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,922\nColumns: 15\n$ uid               <int> 2872478, 2873990, 2874041, 2874296, 2874356, 2875361…\n$ city_name         <chr> \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago…\n$ offense_code      <chr> \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09…\n$ offense_type      <chr> \"murder and nonnegligent manslaughter\", \"murder and …\n$ date_single       <dttm> 2015-01-03 05:50:00, 2015-01-05 22:11:00, 2015-01-0…\n$ address           <chr> \"050XX W SUPERIOR ST\", \"035XX W 77TH PL\", \"093XX S B…\n$ longitude         <dbl> -87.75148, -87.71038, -87.60748, -87.57023, -87.5702…\n$ latitude          <dbl> 41.89401, 41.75242, 41.72355, 41.75168, 41.75168, 41…\n$ location_type     <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ location_category <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ fips_state        <int> 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, …\n$ fips_county       <chr> \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"03…\n$ tract             <chr> \"251600\", \"700100\", \"490400\", \"460500\", \"460500\", \"8…\n$ block_group       <int> 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 2, 3, 2, 2…\n$ block             <int> 1002, 1044, 1023, 1003, 1003, 1016, 1018, 1001, 3000…\n```\n\n\n:::\n:::\n\n\n## Examine Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbase::names(homicides15_tbl_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] \"uid\"               \"city_name\"         \"offense_code\"     \n [4] \"offense_type\"      \"date_single\"       \"address\"          \n [7] \"longitude\"         \"latitude\"          \"location_type\"    \n[10] \"location_category\" \"fips_state\"        \"fips_county\"      \n[13] \"tract\"             \"block_group\"       \"block\"            \n```\n\n\n:::\n\n```{.r .cell-code}\ndplyr::glimpse(homicides15_tbl_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,922\nColumns: 15\n$ uid               <int> 2872478, 2873990, 2874041, 2874296, 2874356, 2875361…\n$ city_name         <chr> \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago…\n$ offense_code      <chr> \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09…\n$ offense_type      <chr> \"murder and nonnegligent manslaughter\", \"murder and …\n$ date_single       <dttm> 2015-01-03 05:50:00, 2015-01-05 22:11:00, 2015-01-0…\n$ address           <chr> \"050XX W SUPERIOR ST\", \"035XX W 77TH PL\", \"093XX S B…\n$ longitude         <dbl> -87.75148, -87.71038, -87.60748, -87.57023, -87.5702…\n$ latitude          <dbl> 41.89401, 41.75242, 41.72355, 41.75168, 41.75168, 41…\n$ location_type     <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ location_category <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ fips_state        <int> 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, …\n$ fips_county       <chr> \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"03…\n$ tract             <chr> \"251600\", \"700100\", \"490400\", \"460500\", \"460500\", \"8…\n$ block_group       <int> 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 2, 3, 2, 2…\n$ block             <int> 1002, 1044, 1023, 1003, 1003, 1016, 1018, 1001, 3000…\n```\n\n\n:::\n\n```{.r .cell-code}\nbase::dim(homicides15_tbl_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1922   15\n```\n\n\n:::\n\n```{.r .cell-code}\nutils::str(homicides15_tbl_df)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntibble [1,922 × 15] (S3: tbl_df/tbl/data.frame)\n $ uid              : int [1:1922] 2872478 2873990 2874041 2874296 2874356 2875361 2875743 2876002 2878279 2878439 ...\n $ city_name        : chr [1:1922] \"Chicago\" \"Chicago\" \"Chicago\" \"Chicago\" ...\n $ offense_code     : chr [1:1922] \"09A\" \"09A\" \"09A\" \"09A\" ...\n $ offense_type     : chr [1:1922] \"murder and nonnegligent manslaughter\" \"murder and nonnegligent manslaughter\" \"murder and nonnegligent manslaughter\" \"murder and nonnegligent manslaughter\" ...\n $ date_single      : POSIXct[1:1922], format: \"2015-01-03 05:50:00\" \"2015-01-05 22:11:00\" ...\n $ address          : chr [1:1922] \"050XX W SUPERIOR ST\" \"035XX W 77TH PL\" \"093XX S BURNSIDE AVE\" \"022XX E 79TH ST\" ...\n $ longitude        : num [1:1922] -87.8 -87.7 -87.6 -87.6 -87.6 ...\n $ latitude         : num [1:1922] 41.9 41.8 41.7 41.8 41.8 ...\n $ location_type    : chr [1:1922] \"street\" \"residence\" \"street\" \"street\" ...\n $ location_category: chr [1:1922] \"street\" \"residence\" \"street\" \"street\" ...\n $ fips_state       : int [1:1922] 17 17 17 17 17 17 17 17 17 17 ...\n $ fips_county      : chr [1:1922] \"031\" \"031\" \"031\" \"031\" ...\n $ tract            : chr [1:1922] \"251600\" \"700100\" \"490400\" \"460500\" ...\n $ block_group      : int [1:1922] 1 1 1 1 1 1 1 1 3 2 ...\n $ block            : int [1:1922] 1002 1044 1023 1003 1003 1016 1018 1001 3000 2012 ...\n - attr(*, \"spec\")=\n  .. cols(\n  ..   .default = col_character(),\n  ..   uid = col_integer(),\n  ..   city_name = col_character(),\n  ..   local_row_id = col_character(),\n  ..   case_number = col_character(),\n  ..   offense_code = col_character(),\n  ..   offense_type = col_character(),\n  ..   offense_group = col_character(),\n  ..   offense_against = col_character(),\n  ..   date_single = col_datetime(format = \"\"),\n  ..   date_start = col_datetime(format = \"\"),\n  ..   date_end = col_datetime(format = \"\"),\n  ..   address = col_character(),\n  ..   longitude = col_double(),\n  ..   latitude = col_double(),\n  ..   location_type = col_character(),\n  ..   location_category = col_character(),\n  ..   fips_state = col_integer(),\n  ..   fips_county = col_character(),\n  ..   tract = col_character(),\n  ..   block_group = col_integer(),\n  ..   block = col_integer()\n  .. )\n```\n\n\n:::\n:::\n\n\n## Removing NA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df <- homicides15_tbl_df %>% \n tidyr::drop_na()\n```\n:::\n\n\n## Viewing Missing Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_dat(homicides15_tbl_df)\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_miss(homicides15_tbl_df)\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Replace common NA strings and numbers with actual NA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_modified <- homicides15_tbl_df %>%\n  naniar::replace_with_na_all(data = ., condition = ~ .x %in% common_na_numbers) %>%\n  naniar::replace_with_na_all(data = ., condition = ~ .x %in% common_na_strings) \nglimpse(homicides15_tbl_df_modified)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,016\nColumns: 15\n$ uid               <int> 2872478, 2873990, 2874041, 2874296, 2874356, 2875361…\n$ city_name         <chr> \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago\", \"Chicago…\n$ offense_code      <chr> \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09A\", \"09…\n$ offense_type      <chr> \"murder and nonnegligent manslaughter\", \"murder and …\n$ date_single       <dttm> 2015-01-03 05:50:00, 2015-01-05 22:11:00, 2015-01-0…\n$ address           <chr> \"050XX W SUPERIOR ST\", \"035XX W 77TH PL\", \"093XX S B…\n$ longitude         <dbl> -87.75148, -87.71038, -87.60748, -87.57023, -87.5702…\n$ latitude          <dbl> 41.89401, 41.75242, 41.72355, 41.75168, 41.75168, 41…\n$ location_type     <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ location_category <chr> \"street\", \"residence\", \"street\", \"street\", \"street\",…\n$ fips_state        <int> 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, …\n$ fips_county       <chr> \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"031\", \"03…\n$ tract             <chr> \"251600\", \"700100\", \"490400\", \"460500\", \"460500\", \"8…\n$ block_group       <int> 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 2, 3, 2, 2…\n$ block             <int> 1002, 1044, 1023, 1003, 1003, 1016, 1018, 1001, 3000…\n```\n\n\n:::\n:::\n\n\n## Data Cleaned\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_modified %>%\n  head(10) %>%\n  stats::setNames(c(\"UID\", \"City Name\", \"Offense Code\", \"Offense Type\", \"Date Single\", \"Address\", \"Longitude\", \"Latitude\", \"Location Type\", \"Location Category\", \"FIPS State\", \"FIPS County\", \"Tract\", \"Block Group\", \"Block\")) %>% \n  \n    DT::datatable(\n    caption = htmltools::tags$caption(\n      style = \"caption-side: top; text-align: left; color: blue; font-size: 150%\",\n      \"Homicides in Nine US Cities (2015)\"\n    ),\n    options = list(pageLength = 10, autoWidth = TRUE)\n  ) %>%\n  DT::formatStyle(\n    columns = names(c(\"UID\", \"City Name\", \"Offense Code\", \"Offense Type\", \"Date Single\", \"Address\", \"Longitude\", \"Latitude\", \"Location Type\", \"Location Category\", \"FIPS State\", \"FIPS County\", \"Tract\", \"Block Group\", \"Block\")),\n    fontFamily = \"Georgia\",\n    fontSize = \"12px\",\n    color = \"black\"\n  ) \n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-718f615c6dfa011dbbbc\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-718f615c6dfa011dbbbc\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption style=\\\"caption-side: top; text-align: left; color: blue; font-size: 150%\\\">Homicides in Nine US Cities (2015)<\\/caption>\",\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\"],[2872478,2873990,2874041,2874296,2874356,2875361,2875743,2876002,2878279,2878439],[\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\",\"Chicago\"],[\"09A\",\"09A\",\"09A\",\"09A\",\"09A\",\"09A\",\"09A\",\"09A\",\"09A\",\"09A\"],[\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\",\"murder and nonnegligent manslaughter\"],[\"2015-01-03T05:50:00Z\",\"2015-01-05T22:11:00Z\",\"2015-01-06T00:49:00Z\",\"2015-01-06T15:38:00Z\",\"2015-01-06T17:53:00Z\",\"2015-01-08T21:30:00Z\",\"2015-01-09T16:20:00Z\",\"2015-01-10T00:25:00Z\",\"2015-01-13T17:40:00Z\",\"2015-01-13T22:10:00Z\"],[\"050XX W SUPERIOR ST\",\"035XX W 77TH PL\",\"093XX S BURNSIDE AVE\",\"022XX E 79TH ST\",\"022XX E 79TH ST\",\"012XX S ALBANY AVE\",\"011XX W MARQUETTE RD\",\"000XX S KOSTNER AVE\",\"042XX S ROCKWELL ST\",\"039XX S CALUMET AVE\"],[-87.751482,-87.71038299999999,-87.607485,-87.570235,-87.570235,-87.703136,-87.653434,-87.73546399999999,-87.689553,-87.61854],[41.894009,41.752417,41.723546,41.751678,41.751678,41.865562,41.772347,41.880299,41.816502,41.823354],[\"street\",\"residence\",\"street\",\"street\",\"street\",\"private vehicle\",\"residence\",\"street\",\"street\",\"street\"],[\"street\",\"residence\",\"street\",\"street\",\"street\",\"vehicle\",\"residence\",\"street\",\"street\",\"street\"],[17,17,17,17,17,17,17,17,17,17],[\"031\",\"031\",\"031\",\"031\",\"031\",\"031\",\"031\",\"031\",\"031\",\"031\"],[\"251600\",\"700100\",\"490400\",\"460500\",\"460500\",\"843100\",\"681000\",\"260600\",\"580600\",\"835900\"],[1,1,1,1,1,1,1,1,3,2],[1002,1044,1023,1003,1003,1016,1018,1001,3000,2012]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>UID<\\/th>\\n      <th>City Name<\\/th>\\n      <th>Offense Code<\\/th>\\n      <th>Offense Type<\\/th>\\n      <th>Date Single<\\/th>\\n      <th>Address<\\/th>\\n      <th>Longitude<\\/th>\\n      <th>Latitude<\\/th>\\n      <th>Location Type<\\/th>\\n      <th>Location Category<\\/th>\\n      <th>FIPS State<\\/th>\\n      <th>FIPS County<\\/th>\\n      <th>Tract<\\/th>\\n      <th>Block Group<\\/th>\\n      <th>Block<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"autoWidth\":true,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[1,7,8,11,14,15]},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"UID\",\"targets\":1},{\"name\":\"City Name\",\"targets\":2},{\"name\":\"Offense Code\",\"targets\":3},{\"name\":\"Offense Type\",\"targets\":4},{\"name\":\"Date Single\",\"targets\":5},{\"name\":\"Address\",\"targets\":6},{\"name\":\"Longitude\",\"targets\":7},{\"name\":\"Latitude\",\"targets\":8},{\"name\":\"Location Type\",\"targets\":9},{\"name\":\"Location Category\",\"targets\":10},{\"name\":\"FIPS State\",\"targets\":11},{\"name\":\"FIPS County\",\"targets\":12},{\"name\":\"Tract\",\"targets\":13},{\"name\":\"Block Group\",\"targets\":14},{\"name\":\"Block\",\"targets\":15}],\"order\":[],\"orderClasses\":false,\"rowCallback\":\"function(row, data, displayNum, displayIndex, dataIndex) {\\n}\"}},\"evals\":[\"options.rowCallback\"],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n## Munging Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned <- homicides15_tbl_df_modified %>%\n  mutate(across(where(is.character), as.factor)) %>% \n  relocate(where(is.factor))\nglimpse(homicides15_tbl_df_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,016\nColumns: 15\n$ city_name         <fct> Chicago, Chicago, Chicago, Chicago, Chicago, Chicago…\n$ offense_code      <fct> 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09…\n$ offense_type      <fct> murder and nonnegligent manslaughter, murder and non…\n$ address           <fct> 050XX W SUPERIOR ST, 035XX W 77TH PL, 093XX S BURNSI…\n$ location_type     <fct> street, residence, street, street, street, private v…\n$ location_category <fct> street, residence, street, street, street, vehicle, …\n$ fips_county       <fct> 031, 031, 031, 031, 031, 031, 031, 031, 031, 031, 03…\n$ tract             <fct> 251600, 700100, 490400, 460500, 460500, 843100, 6810…\n$ uid               <int> 2872478, 2873990, 2874041, 2874296, 2874356, 2875361…\n$ date_single       <dttm> 2015-01-03 05:50:00, 2015-01-05 22:11:00, 2015-01-0…\n$ longitude         <dbl> -87.75148, -87.71038, -87.60748, -87.57023, -87.5702…\n$ latitude          <dbl> 41.89401, 41.75242, 41.72355, 41.75168, 41.75168, 41…\n$ fips_state        <int> 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, …\n$ block_group       <int> 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 2, 3, 2, 2…\n$ block             <int> 1002, 1044, 1023, 1003, 1003, 1016, 1018, 1001, 3000…\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_quant <- homicides15_tbl_df_cleaned %>%\n  drop_na() %>%\n  select(where(is.numeric))\nhomicides15_tbl_df_quant %>% names()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"uid\"         \"longitude\"   \"latitude\"    \"fips_state\"  \"block_group\"\n[6] \"block\"      \n```\n\n\n:::\n:::\n\n\n## Summaries: Examining the Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>%\n  count(city_name, offense_type) %>%\n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 3\n  city_name   offense_type                             n\n  <fct>       <fct>                                <int>\n1 Chicago     murder and nonnegligent manslaughter   499\n2 Los Angeles murder and nonnegligent manslaughter   409\n3 Louisville  murder and nonnegligent manslaughter    63\n4 Fort Worth  murder and nonnegligent manslaughter    44\n5 Los Angeles negligent manslaughter                   1\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>%\n  count(location_type) %>%\n  arrange(desc(n))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 22 × 2\n   location_type          n\n   <fct>              <int>\n 1 street               595\n 2 residence            215\n 3 private vehicle       54\n 4 vehicle parking       42\n 5 green space           30\n 6 other open space      24\n 7 other                 12\n 8 bar/club               8\n 9 commercial vehicle     6\n10 hotel                  5\n# ℹ 12 more rows\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n  homicides15_tbl_df_cleaned %>%\n    dplyr::summarise(\n      median_year = median(year(date_single), na.rm=TRUE),\n      mean_hour = mean(hour(date_single), na.rm=TRUE),\n      sd_hour = sd(hour(date_single), na.rm=TRUE)\n    )\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 3\n  median_year mean_hour sd_hour\n        <dbl>     <dbl>   <dbl>\n1        2015      12.2    8.13\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned <- homicides15_tbl_df_cleaned %>%\n  mutate(\n    year = year(date_single),\n    month = month(date_single, label = TRUE, abbr = TRUE),  # gives Jan, Feb, Mar...\n    day = day(date_single),\n    hour = hour(date_single)\n  )\nhomicides15_tbl_df_cleaned\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1,016 × 19\n   city_name offense_code offense_type   address location_type location_category\n   <fct>     <fct>        <fct>          <fct>   <fct>         <fct>            \n 1 Chicago   09A          murder and no… 050XX … street        street           \n 2 Chicago   09A          murder and no… 035XX … residence     residence        \n 3 Chicago   09A          murder and no… 093XX … street        street           \n 4 Chicago   09A          murder and no… 022XX … street        street           \n 5 Chicago   09A          murder and no… 022XX … street        street           \n 6 Chicago   09A          murder and no… 012XX … private vehi… vehicle          \n 7 Chicago   09A          murder and no… 011XX … residence     residence        \n 8 Chicago   09A          murder and no… 000XX … street        street           \n 9 Chicago   09A          murder and no… 042XX … street        street           \n10 Chicago   09A          murder and no… 039XX … street        street           \n# ℹ 1,006 more rows\n# ℹ 13 more variables: fips_county <fct>, tract <fct>, uid <int>,\n#   date_single <dttm>, longitude <dbl>, latitude <dbl>, fips_state <int>,\n#   block_group <int>, block <int>, year <dbl>, month <ord>, day <int>,\n#   hour <int>\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(homicides15_tbl_df_cleaned)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 1,016\nColumns: 19\n$ city_name         <fct> Chicago, Chicago, Chicago, Chicago, Chicago, Chicago…\n$ offense_code      <fct> 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09A, 09…\n$ offense_type      <fct> murder and nonnegligent manslaughter, murder and non…\n$ address           <fct> 050XX W SUPERIOR ST, 035XX W 77TH PL, 093XX S BURNSI…\n$ location_type     <fct> street, residence, street, street, street, private v…\n$ location_category <fct> street, residence, street, street, street, vehicle, …\n$ fips_county       <fct> 031, 031, 031, 031, 031, 031, 031, 031, 031, 031, 03…\n$ tract             <fct> 251600, 700100, 490400, 460500, 460500, 843100, 6810…\n$ uid               <int> 2872478, 2873990, 2874041, 2874296, 2874356, 2875361…\n$ date_single       <dttm> 2015-01-03 05:50:00, 2015-01-05 22:11:00, 2015-01-0…\n$ longitude         <dbl> -87.75148, -87.71038, -87.60748, -87.57023, -87.5702…\n$ latitude          <dbl> 41.89401, 41.75242, 41.72355, 41.75168, 41.75168, 41…\n$ fips_state        <int> 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, 17, …\n$ block_group       <int> 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 1, 1, 1, 1, 2, 3, 2, 2…\n$ block             <int> 1002, 1044, 1023, 1003, 1003, 1016, 1018, 1001, 3000…\n$ year              <dbl> 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015, 2015…\n$ month             <ord> Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan, Jan, Ja…\n$ day               <int> 3, 5, 6, 6, 6, 8, 9, 10, 13, 13, 14, 16, 17, 17, 18,…\n$ hour              <int> 5, 22, 0, 15, 17, 21, 16, 0, 17, 22, 17, 19, 13, 19,…\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides_block_counts <- homicides15_tbl_df_cleaned %>%\n  drop_na(block, block_group, city_name) %>%\n  count(city_name, block, block_group, name = \"homicide_count\")\n\nhomicides_block_counts\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 294 × 4\n   city_name block block_group homicide_count\n   <fct>     <int>       <int>          <int>\n 1 Chicago    1000           1              9\n 2 Chicago    1001           1              8\n 3 Chicago    1002           1             15\n 4 Chicago    1003           1             10\n 5 Chicago    1004           1              7\n 6 Chicago    1005           1             10\n 7 Chicago    1006           1              9\n 8 Chicago    1007           1             12\n 9 Chicago    1008           1              7\n10 Chicago    1009           1              4\n# ℹ 284 more rows\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides_counts <- homicides15_tbl_df_cleaned %>%\n  dplyr::count(longitude, latitude, name = \"count\")\n\nhomicides_counts\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 843 × 3\n   longitude latitude count\n       <dbl>    <dbl> <int>\n 1     -119.     34.2     1\n 2     -119.     34.3     2\n 3     -119.     34.2     2\n 4     -119.     34.2     1\n 5     -119.     34.2     1\n 6     -119.     34.2     2\n 7     -119.     34.2     2\n 8     -119.     34.2     1\n 9     -118.     34.2     2\n10     -118.     34.2     2\n# ℹ 833 more rows\n```\n\n\n:::\n:::\n\n\n## Visualizing the data\n\n### 1.Homicides by City\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~city_name, data = homicides15_tbl_df_cleaned, fill = ~city_name) %>%\n  gf_labs(title = \"Crime Count by City\", x = \"City Name\", y = \"Count\")\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-19-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmosaic::cor_test(latitude ~ longitude, data = homicides15_tbl_df_cleaned) %>%\n  broom::tidy() %>%\n  knitr::kable(\n    digits = 3,\n    caption = \"Correlation between latitude and longitude\"\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Correlation between latitude and longitude\n\n| estimate| statistic| p.value| parameter| conf.low| conf.high|method                               |alternative |\n|--------:|---------:|-------:|---------:|--------:|---------:|:------------------------------------|:-----------|\n|    0.908|     69.03|       0|      1014|    0.897|     0.918|Pearson's product-moment correlation |two.sided   |\n\n\n:::\n:::\n\n\n-Inference \n1.The largest number of cases seems to be in the northernmost eastern location (Chicago) and the westernmost location (Los Angeles).\n\n-Inference\n1.  Homicides mostly happen in a few specific cities and locations; they are not spread everywhere.\n\n2.  Homicides usaully cluster in large cities - Chicago, LA\n\n### 2. Block and Block Group Patterns\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmosaic::cor_test(block ~ block_group, data = homicides15_tbl_df_cleaned) %>%\n  broom::tidy() %>%\n  knitr::kable(\n    digits = 3,\n    caption = \"Correlation between block and block_group\"\n  )\n```\n\n::: {.cell-output-display}\n\n\nTable: Correlation between block and block_group\n\n| estimate| statistic| p.value| parameter| conf.low| conf.high|method                               |alternative |\n|--------:|---------:|-------:|---------:|--------:|---------:|:------------------------------------|:-----------|\n|        1|  2769.987|       0|      1014|        1|         1|Pearson's product-moment correlation |two.sided   |\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>%\n  count(block, sort = TRUE) %>%\n  top_n(5, n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  block     n\n  <int> <int>\n1  1000    45\n2  1002    32\n3  2002    31\n4  2001    30\n5  2000    28\n6  2004    28\n7  2006    28\n```\n\n\n:::\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>%\n  count(block_group, sort = TRUE) %>%\n  top_n(7, n)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 7 × 2\n  block_group     n\n        <int> <int>\n1           1   382\n2           2   344\n3           3   174\n4           4    75\n5           5    34\n6           6     5\n7           7     2\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_point(\n  block_group ~ block | city_name,\n  data = homicides_block_counts,\n  position = \"jitter\",\n  color = ~homicide_count,\n  size = ~homicide_count ) %>%\n  gf_lm() %>% \n  gf_labs(\n    title = \"Homicide Concentration -  Block and Block Group\",\n    subtitle = \"size show number of homicides\",\n    x = \"block\",\n    y = \"block group\",\n    size = \"Number of Homicides\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: The following aesthetics were dropped during statistical transformation: colour\nand size.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\nThe following aesthetics were dropped during statistical transformation: colour\nand size.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\nThe following aesthetics were dropped during statistical transformation: colour\nand size.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\nThe following aesthetics were dropped during statistical transformation: colour\nand size.\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-23-1.png){width=672}\n:::\n:::\n\n-Inference\n1. Why do lower-numbered block groups have more homicides? what makes them riskier?\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>% \n  gf_bar(~offense_type| block_group, fill = ~offense_type) %>% \n   gf_labs(\n    title = \"How does offense type vary across block groups?\",\n    x=\"Offense type\",\n    y=\"count\", \n    fill=\"Block Group\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-24-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>% \n  gf_bar(~block_group | city_name, fill = ~offense_type) %>% \n   gf_labs(\n    title = \"How does offense type vary across block groups?\",\n    x=\"block group\",\n    y=\"count\", \n    fill=\"offence type\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-25-1.png){width=672}\n:::\n:::\n\n\n-Inference \n1.In Chicago, most homicides happen in the lowest-numbered block groups (like Group 1 and 2).\n\n2.  As higher the block number goes less number of homicides seems to happen. Block 6 and 7 seems to safer place to live.\n\n### 3. HomicidePatterns: Month, Day, and Hour\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~month, data = homicides15_tbl_df_cleaned, fill = ~month, , color = \"black\" , position = \"dodge\") %>%\n  gf_labs(\n    title = \"Homicides by Month\",\n    x = \"Month\",\n    y = \"Count\",\n    fill = \"Location\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-26-1.png){width=672}\n:::\n:::\n\n-Inferences\n1. Homicide peak sharply during the summer months, with the highest counts occurring in August and September.\n\n2. The lowest number of homicides was recorded in February, and during winter seasons homicide incidents are less.\n\n3. Do homicides increase in summer because people go out more?\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_bar(~month, data = homicides15_tbl_df_cleaned, fill = ~location_category, , position = \"fill\") %>%\n  gf_labs(\n    title = \"Homicides by Month and Location Type\",\n    x = \"Month\",\n    y = \"Count\",\n    fill = \"Location\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-27-1.png){width=672}\n:::\n:::\n\n-Inferences\n1. Majority of homicides occur two major location types: Street (public space).Residence (private home).\n\n2. The propotional distribution of homicides across location types is  consistent throughout the year.\n\n3.Are homicides on the street mostly in strangers and those at home mostly between family members?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngf_density(~hour, data = homicides15_tbl_df_cleaned, fill = ~month) %>%\n  gf_labs(\n    title = \"Are some times of day riskier?\",\n    x = \"Hour of the Day\",\n    y = \"Density\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-28-1.png){width=672}\n:::\n:::\n\n-Inference\n1.  Homicides happen least in the morning (about 6 AM to 10 AM).\n\n2.  The peak time is 18:00 to 20:00.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# overall histogram\nhomicides15_tbl_df_cleaned %>%\n  gf_histogram(~ hour | location_category,\n               bins = 24,\n               fill = ~location_category) %>%\n  gf_labs(\n    title = \"Histogram of Homicide Hour (All Incidents)\",\n    x = \"Hour of Day\",\n    y = \"Count\"\n  )\n```\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-29-1.png){width=672}\n:::\n:::\n\n-Inference\n1. Street homicides peak late at night, mostly between 8 PM and 1 AM..\n\n2. Residence homicides cluster in the evening,but peak at midnigt\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhomicides15_tbl_df_cleaned %>%\n  gf_violin(hour ~ offense_type,\n            orientation = \"x\",\n            fill = ~offense_type) %>%\n  gf_labs(\n    title = \"Distribution of Homicide Time by Offense Type (Violin)\",\n    x = \"Offense Type\",\n    y = \"Hour of Day\"\n  )\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: Groups with fewer than two datapoints have been dropped.\nℹ Set `drop = FALSE` to consider such groups for position adjustment purposes.\n```\n\n\n:::\n\n::: {.cell-output-display}\n![](EDA-A2-Crimedataset_files/figure-html/unnamed-chunk-30-1.png){width=672}\n:::\n:::\n\n-Inference\n1. The plot only covers a single offense type: \"murder and nonnegligent manslaughter.\"\n\n2. The time distribution has two peaks.\n- The highest risk time for a homicide is late at night/early morning.\n- There is a secondary cluster of incidents during the mid-day hours.\n\n3. Homicides happen at every hour of the day.\n\n\n- Note:\n\n1.  Most homicides are on Vehicles, streets → location_type heavily skewed.\n\n2.  Almost all offenses are murder and nonnegligent manslaughter → offense_type dominated by one level.\n\n3.  Because of this, even “real differences” are small, so shading is weak in mosaic plots\n\n## Conclusion:\n\nThe 2015 homicide datasets show that Chicago and Los Angeles had the highest number of cases and the incidents clustered in lower-numbered block groups. Homicides peaked during summer, especially in August and September, and most were reported as occurring in streets or residences, occurring predominantly in the evening. Street homicides occurred at night and residential homicides occurred around midnight.\n\n",
    "supporting": [
      "EDA-A2-Crimedataset_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/datatables-binding-0.34.0/datatables.js\"></script>\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.2/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.2/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}